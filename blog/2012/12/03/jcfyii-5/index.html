
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>JCFYii 5. Дизайн-макет - AngryGantz</title>
  <meta name="author" content="AngryGantz">

  
  <meta name="description" content="Надо поднастроить main.css. Во первых дать отступ body на ширину меню, во вторых убрать border. Пусть страничка беленькая будет. Получаем вот такой &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://AngryGantz.github.com/blog/2012/12/03/jcfyii-5/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="AngryGantz" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  

</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">AngryGantz</a></h1>
  
    <h2>Заметки вебстроителя.</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:AngryGantz.github.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Блог</a></li>
  <li><a href="/blog/archives">Архив</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">JCFYii 5. Дизайн-макет</h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-12-03T18:24:00+06:00" pubdate data-updated="true">Dec 3<span>rd</span>, 2012</time>
        
      </p>
    
  </header>


<div class="entry-content"><p>Надо поднастроить <strong>main.css</strong>. Во первых дать отступ body на ширину меню, во вторых убрать border. Пусть страничка беленькая будет. Получаем вот такой код css для трех важных для этого элементов:</p>

<!-- more -->


<h3>main.css</h3>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
</pre></td><td class='code'><pre><code class='css'><span class='line'><span class="nt">body</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>  <span class="k">margin</span><span class="o">:</span> <span class="m">0</span><span class="p">;</span>
</span><span class='line'>  <span class="k">padding</span><span class="o">:</span> <span class="m">0</span><span class="p">;</span>
</span><span class='line'>  <span class="k">color</span><span class="o">:</span> <span class="m">#555</span><span class="p">;</span>
</span><span class='line'>  <span class="k">font</span><span class="o">:</span> <span class="k">normal</span> <span class="m">10pt</span> <span class="n">Arial</span><span class="o">,</span><span class="n">Helvetica</span><span class="o">,</span><span class="k">sans-serif</span><span class="p">;</span>
</span><span class='line'>  <span class="k">background</span><span class="o">:</span> <span class="m">#EFEFEF</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'><span class="nf">#page</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>  <span class="k">margin-top</span><span class="o">:</span> <span class="m">40px</span><span class="p">;</span>
</span><span class='line'>  <span class="k">margin-bottom</span><span class="o">:</span> <span class="m">5px</span><span class="p">;</span>
</span><span class='line'>  <span class="k">background</span><span class="o">:</span> <span class="nb">white</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'><span class="nf">#header</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>  <span class="k">margin</span><span class="o">:</span> <span class="m">0</span><span class="p">;</span>
</span><span class='line'>  <span class="k">padding</span><span class="o">:</span> <span class="m">0</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>Впрочем, Header нам сейчас не нужен. Разве что крошки туда загнать. Так и делаем. Вот от этого беленьекого листа с симпатишной менюшкой и будем плясать.</p>

<p>Крошки загоняем в Header и меняем виджет на bootstrap:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="cp">&lt;?php</span>
</span><span class='line'><span class="k">if</span> <span class="p">(</span><span class="nb">isset</span><span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">breadcrumbs</span><span class="p">))</span><span class="o">:</span>
</span><span class='line'>  <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">widget</span><span class="p">(</span><span class="s1">&#39;bootstrap.widgets.TbBreadcrumbs&#39;</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
</span><span class='line'>      <span class="s1">&#39;links&#39;</span> <span class="o">=&gt;</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">breadcrumbs</span><span class="p">,</span>
</span><span class='line'>  <span class="p">));</span>
</span><span class='line'><span class="k">endif</span>
</span><span class='line'><span class="cp">?&gt;</span><span class="x"></span>
</span></code></pre></td></tr></table></div></figure>


<p>Мои благие намерения не лезть в модули канули в лето. Но уж больно мне не понравился дизайн вьюшек Yii-User. Полностью переделал все вьюшки в &#8220;bootrap-style&#8221; Постараюсь хотя бы логику не трогать. В этом вроде как необходимости нет слава богу.</p>

<p>Итак, готовый скелет с работающей системой управления пользователями на основе ролей можно считать есть.
По хорошему конечно потестировать бы с недельку уже на этом этапе, но не в продакшен сайи идёт, пока так, баловство. Так что этот этап пропустим пока. Хотя потом надо будет заняться вопросами тестирования приложений на yii всерьёз. Как никак это чуть ли не половина работы на нормальном проекте.</p>

<h2>Меню</h2>

<p>Может я не понимаю своего счастья, но виджет CMenu меня не впечатлил. Будем делать меню на любимом Bootstrap
И кстати есть желание поделить лайоут main на несколько файлов для наглядности. В частности меню рисовать в отдельном файле, вызывамом из главного. Обзовём _menu.php и приступим.</p>

<p>Старое загоним в файл _cmenu, на всякий случай. И оба файлика положим в созданную папку <strong>layouts/add</strong>
из лайоута <strong>main</strong> меню будем подтягивать кодом <code>&lt;?php require_once '/add/_cmenu.php'; ?&gt;</code></p>

<p>Беру из документации пример менюшки, загоняю в <strong>_menu.php</strong> и смотрю что получилось -)</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="cp">&lt;?php</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">widget</span><span class="p">(</span><span class="s1">&#39;bootstrap.widgets.TbNavbar&#39;</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
</span><span class='line'>    <span class="s1">&#39;type&#39;</span><span class="o">=&gt;</span><span class="s1">&#39;inverse&#39;</span><span class="p">,</span> <span class="c1">// null or &#39;inverse&#39;</span>
</span><span class='line'>    <span class="s1">&#39;brand&#39;</span><span class="o">=&gt;</span><span class="s1">&#39;Project name&#39;</span><span class="p">,</span>
</span><span class='line'>    <span class="s1">&#39;brandUrl&#39;</span><span class="o">=&gt;</span><span class="s1">&#39;#&#39;</span><span class="p">,</span>
</span><span class='line'>    <span class="s1">&#39;collapse&#39;</span><span class="o">=&gt;</span><span class="k">true</span><span class="p">,</span> <span class="c1">// requires bootstrap-responsive.css</span>
</span><span class='line'>    <span class="s1">&#39;items&#39;</span><span class="o">=&gt;</span><span class="k">array</span><span class="p">(</span>
</span><span class='line'>        <span class="k">array</span><span class="p">(</span>
</span><span class='line'>            <span class="s1">&#39;class&#39;</span><span class="o">=&gt;</span><span class="s1">&#39;bootstrap.widgets.TbMenu&#39;</span><span class="p">,</span>
</span><span class='line'>            <span class="s1">&#39;items&#39;</span><span class="o">=&gt;</span><span class="k">array</span><span class="p">(</span>
</span><span class='line'>                <span class="k">array</span><span class="p">(</span><span class="s1">&#39;label&#39;</span><span class="o">=&gt;</span><span class="s1">&#39;Home&#39;</span><span class="p">,</span> <span class="s1">&#39;url&#39;</span><span class="o">=&gt;</span><span class="s1">&#39;#&#39;</span><span class="p">,</span> <span class="s1">&#39;active&#39;</span><span class="o">=&gt;</span><span class="k">true</span><span class="p">),</span>
</span><span class='line'>                <span class="k">array</span><span class="p">(</span><span class="s1">&#39;label&#39;</span><span class="o">=&gt;</span><span class="s1">&#39;Link&#39;</span><span class="p">,</span> <span class="s1">&#39;url&#39;</span><span class="o">=&gt;</span><span class="s1">&#39;#&#39;</span><span class="p">),</span>
</span><span class='line'>                <span class="k">array</span><span class="p">(</span><span class="s1">&#39;label&#39;</span><span class="o">=&gt;</span><span class="s1">&#39;Dropdown&#39;</span><span class="p">,</span> <span class="s1">&#39;url&#39;</span><span class="o">=&gt;</span><span class="s1">&#39;#&#39;</span><span class="p">,</span> <span class="s1">&#39;items&#39;</span><span class="o">=&gt;</span><span class="k">array</span><span class="p">(</span>
</span><span class='line'>                    <span class="k">array</span><span class="p">(</span><span class="s1">&#39;label&#39;</span><span class="o">=&gt;</span><span class="s1">&#39;Action&#39;</span><span class="p">,</span> <span class="s1">&#39;url&#39;</span><span class="o">=&gt;</span><span class="s1">&#39;#&#39;</span><span class="p">),</span>
</span><span class='line'>                    <span class="k">array</span><span class="p">(</span><span class="s1">&#39;label&#39;</span><span class="o">=&gt;</span><span class="s1">&#39;Another action&#39;</span><span class="p">,</span> <span class="s1">&#39;url&#39;</span><span class="o">=&gt;</span><span class="s1">&#39;#&#39;</span><span class="p">),</span>
</span><span class='line'>                    <span class="k">array</span><span class="p">(</span><span class="s1">&#39;label&#39;</span><span class="o">=&gt;</span><span class="s1">&#39;Something else here&#39;</span><span class="p">,</span> <span class="s1">&#39;url&#39;</span><span class="o">=&gt;</span><span class="s1">&#39;#&#39;</span><span class="p">),</span>
</span><span class='line'>                    <span class="s1">&#39;---&#39;</span><span class="p">,</span>
</span><span class='line'>                    <span class="k">array</span><span class="p">(</span><span class="s1">&#39;label&#39;</span><span class="o">=&gt;</span><span class="s1">&#39;NAV HEADER&#39;</span><span class="p">),</span>
</span><span class='line'>                    <span class="k">array</span><span class="p">(</span><span class="s1">&#39;label&#39;</span><span class="o">=&gt;</span><span class="s1">&#39;Separated link&#39;</span><span class="p">,</span> <span class="s1">&#39;url&#39;</span><span class="o">=&gt;</span><span class="s1">&#39;#&#39;</span><span class="p">),</span>
</span><span class='line'>                    <span class="k">array</span><span class="p">(</span><span class="s1">&#39;label&#39;</span><span class="o">=&gt;</span><span class="s1">&#39;One more separated link&#39;</span><span class="p">,</span> <span class="s1">&#39;url&#39;</span><span class="o">=&gt;</span><span class="s1">&#39;#&#39;</span><span class="p">),</span>
</span><span class='line'>                <span class="p">)),</span>
</span><span class='line'>            <span class="p">),</span>
</span><span class='line'>        <span class="p">),</span>
</span><span class='line'>        <span class="s1">&#39;&lt;form class=&quot;navbar-search pull-left&quot; action=&quot;&quot;&gt;&lt;input type=&quot;text&quot; class=&quot;search-query span2&quot; placeholder=&quot;Search&quot;&gt;&lt;/form&gt;&#39;</span><span class="p">,</span>
</span><span class='line'>        <span class="k">array</span><span class="p">(</span>
</span><span class='line'>            <span class="s1">&#39;class&#39;</span><span class="o">=&gt;</span><span class="s1">&#39;bootstrap.widgets.TbMenu&#39;</span><span class="p">,</span>
</span><span class='line'>            <span class="s1">&#39;htmlOptions&#39;</span><span class="o">=&gt;</span><span class="k">array</span><span class="p">(</span><span class="s1">&#39;class&#39;</span><span class="o">=&gt;</span><span class="s1">&#39;pull-right&#39;</span><span class="p">),</span>
</span><span class='line'>            <span class="s1">&#39;items&#39;</span><span class="o">=&gt;</span><span class="k">array</span><span class="p">(</span>
</span><span class='line'>                <span class="k">array</span><span class="p">(</span><span class="s1">&#39;label&#39;</span><span class="o">=&gt;</span><span class="s1">&#39;Link&#39;</span><span class="p">,</span> <span class="s1">&#39;url&#39;</span><span class="o">=&gt;</span><span class="s1">&#39;#&#39;</span><span class="p">),</span>
</span><span class='line'>                <span class="s1">&#39;---&#39;</span><span class="p">,</span>
</span><span class='line'>                <span class="k">array</span><span class="p">(</span><span class="s1">&#39;label&#39;</span><span class="o">=&gt;</span><span class="s1">&#39;Dropdown&#39;</span><span class="p">,</span> <span class="s1">&#39;url&#39;</span><span class="o">=&gt;</span><span class="s1">&#39;#&#39;</span><span class="p">,</span> <span class="s1">&#39;items&#39;</span><span class="o">=&gt;</span><span class="k">array</span><span class="p">(</span>
</span><span class='line'>                    <span class="k">array</span><span class="p">(</span><span class="s1">&#39;label&#39;</span><span class="o">=&gt;</span><span class="s1">&#39;Action&#39;</span><span class="p">,</span> <span class="s1">&#39;url&#39;</span><span class="o">=&gt;</span><span class="s1">&#39;#&#39;</span><span class="p">),</span>
</span><span class='line'>                    <span class="k">array</span><span class="p">(</span><span class="s1">&#39;label&#39;</span><span class="o">=&gt;</span><span class="s1">&#39;Another action&#39;</span><span class="p">,</span> <span class="s1">&#39;url&#39;</span><span class="o">=&gt;</span><span class="s1">&#39;#&#39;</span><span class="p">),</span>
</span><span class='line'>                    <span class="k">array</span><span class="p">(</span><span class="s1">&#39;label&#39;</span><span class="o">=&gt;</span><span class="s1">&#39;Something else here&#39;</span><span class="p">,</span> <span class="s1">&#39;url&#39;</span><span class="o">=&gt;</span><span class="s1">&#39;#&#39;</span><span class="p">),</span>
</span><span class='line'>                    <span class="s1">&#39;---&#39;</span><span class="p">,</span>
</span><span class='line'>                    <span class="k">array</span><span class="p">(</span><span class="s1">&#39;label&#39;</span><span class="o">=&gt;</span><span class="s1">&#39;Separated link&#39;</span><span class="p">,</span> <span class="s1">&#39;url&#39;</span><span class="o">=&gt;</span><span class="s1">&#39;#&#39;</span><span class="p">),</span>
</span><span class='line'>                <span class="p">)),</span>
</span><span class='line'>            <span class="p">),</span>
</span><span class='line'>        <span class="p">),</span>
</span><span class='line'>    <span class="p">),</span>
</span><span class='line'><span class="p">));</span> <span class="cp">?&gt;</span><span class="x"></span>
</span></code></pre></td></tr></table></div></figure>


<p>Ошибок в консоли не видно, всё работает. Осталось донастроить и меню готово :-). Симпатишное, функциональное, красявое, за что и люблю bootstrap. Сайт будем делать светлым и менюшку тоже. Так что первым делом убираю инверсию.</p>

<p>Делее правим строчку <code>'brandUrl'=&gt;'index'</code> - Это будет вместо кнопочки <strong>Home</strong>, которую выкидываем. Далее меняем label=>link на Label=>Каталог, оставляя пока Урл пустым, это на будущее. Далее будут Контакты, куда же без них.</p>
</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">AngryGantz</span></span>

      








  


<time datetime="2012-12-03T18:24:00+06:00" pubdate data-updated="true">Dec 3<span>rd</span>, 2012</time>
      

<span class="categories">
  
    <a class='category' href='/blog/categories/jcfyii/'>JCFYii</a>, <a class='category' href='/blog/categories/yii/'>Yii</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  <a href="http://twitter.com/share" class="twitter-share-button" data-url="http://AngryGantz.github.com/blog/2012/12/03/jcfyii-5/" data-via="" data-counturl="http://AngryGantz.github.com/blog/2012/12/03/jcfyii-5/" >Tweet</a>
  
  
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/blog/2012/12/03/jcfyii-4/" title="Previous Post: JCFYii 4 Управление пользователями и правами.">&laquo; JCFYii 4 Управление пользователями и правами.</a>
      
      
        <a class="basic-alignment right" href="/blog/2012/12/03/jcfyii-6/" title="Next Post: JCFYii 6. Каталог товаров">JCFYii 6. Каталог товаров &raquo;</a>
      
    </p>
  </footer>
</article>

</div>

<aside class="sidebar">
  
    <section>
  <h1>Последние заметки</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2012/12/03/jcfyii-6/">JCFYii 6. Каталог товаров</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/12/03/jcfyii-5/">JCFYii 5. Дизайн-макет</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/12/03/jcfyii-4/">JCFYii 4 Управление пользователями и правами.</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/12/03/jcfyii-3/">JCFYii 3. Bootstrap</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/12/03/jcfyii-2/">JCFYii 2. Выбор структуры и первичная настройка</a>
      </li>
    
  </ul>
</section>






  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2012 - AngryGantz -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
